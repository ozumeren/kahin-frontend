@tailwind base;
@tailwind components;
@tailwind utilities;

/* Chart animations */
@keyframes chartFadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.chart-container {
  animation: chartFadeIn 0.4s ease-out;
}

@layer base {
  body {
    @apply bg-dark-900 text-gray-100 font-sans antialiased;
  }
  
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
}

@layer components {
  /* Market Card - Kalshi Style */
  .market-card {
    @apply bg-dark-800 rounded-2xl p-0 overflow-hidden border border-dark-600
           hover:border-brand-500/30 transition-all duration-300 cursor-pointer
           hover:shadow-lg hover:shadow-brand-500/10;
  }
  
  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2.5 
           text-sm font-semibold transition-all duration-200 
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2
           disabled:pointer-events-none disabled:opacity-50;
  }

  .btn-primary {
    @apply bg-brand-500 text-white hover:bg-brand-600 
           focus-visible:ring-brand-500 shadow-lg shadow-brand-500/20;
  }

  .btn-secondary {
    @apply bg-dark-700 text-gray-200 hover:bg-dark-600 
           focus-visible:ring-gray-500 border border-dark-600;
  }

  .btn-ghost {
    @apply hover:bg-dark-700 text-gray-300 hover:text-white;
  }

  .btn-yes {
    @apply bg-yes text-white hover:bg-yes-dark shadow-lg shadow-yes/20;
  }

  .btn-no {
    @apply bg-no text-white hover:bg-no-dark shadow-lg shadow-no/20;
  }

  /* Input */
  .input {
    @apply w-full rounded-xl border border-dark-600 bg-dark-800 
           px-4 py-2.5 text-sm text-gray-100 placeholder:text-gray-500
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand-500
           focus-visible:border-brand-500 disabled:cursor-not-allowed disabled:opacity-50;
  }

  /* Badge */
  .badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold;
  }

  .badge-success {
    @apply bg-yes/20 text-yes border border-yes/30;
  }

  .badge-error {
    @apply bg-no/20 text-no border border-no/30;
  }

  .badge-info {
    @apply bg-blue-500/20 text-blue-400 border border-blue-500/30;
  }

  /* Probability Display */
  .prob-yes {
    @apply text-2xl font-bold text-yes;
  }

  .prob-no {
    @apply text-2xl font-bold text-no;
  }
}

/* Custom scrollbar - Dark theme */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #1a1f2e;
}

::-webkit-scrollbar-thumb {
  background: #2d3748;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #4a5568;
}

/* Remove number input spinners */
input[type='number']::-webkit-inner-spin-button,
input[type='number']::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type='number'] {
  -moz-appearance: textfield;
  appearance: textfield;
}

/* SVG rendering */
svg {
  shape-rendering: geometricPrecision;
}

/* Chart optimizations */
.visx-chart {
  will-change: transform;
  contain: layout style paint;
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}